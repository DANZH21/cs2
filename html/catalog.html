<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Case Selection</title>
    <link rel="stylesheet" href="../css/main.css">
    <link rel="stylesheet" href="../css/case.css">
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            let balance = localStorage.getItem("balance") || "0";
            document.getElementById("balance").textContent = balance;

            const texts = {
                en: {
                    title: "CS2 CASE",
                    bestCase: "golden mean",
                    bestCaseDesc: "Best Case!",
                    case2: "M4A4 all",
                    case3: "Case 3",
                    back: "‚Æå Exit to Menu",
                    balanceLabel: "Balance: "
                },
                ru: {
                    title: "CS2 –ö–ï–ô–°",
                    bestCase: "–ó–æ–ª–æ—Ç–∞—è —Å–µ—Ä–µ–¥–∏–Ω–∞",
                    bestCaseDesc: "–õ—É—á—à–∏–π –∫–µ–π—Å!",
                    case2: "–ú4–ê4 –í—Å–µ–º",
                    case3: "–ó–æ–ª–æ—Ç–∞—è —Ä—É–∫–∞",
                    back: "‚Æå –ù–∞–∑–∞–¥ –≤ –º–µ–Ω—é",
                    balanceLabel: "–ë–∞–ª–∞–Ω—Å: "
                }
            };

            const languageSelector = document.getElementById("language-selector");
            const lang = localStorage.getItem("lang") || "en";
            languageSelector.value = lang;
            updateLanguage(lang);

            languageSelector.addEventListener("change", function() {
                const selectedLang = languageSelector.value;
                localStorage.setItem("lang", selectedLang);
                updateLanguage(selectedLang);
            });

            function updateLanguage(lang) {
                document.getElementById("title").textContent = texts[lang].title;
                document.getElementById("best-case").textContent = texts[lang].bestCase;
                document.getElementById("best-case-desc").textContent = texts[lang].bestCaseDesc;
                document.getElementById("case2").textContent = texts[lang].case2;
                document.getElementById("case3").textContent = texts[lang].case3;
                document.getElementById("back-button").textContent = texts[lang].back;
                document.getElementById("balance-label").textContent = texts[lang].balanceLabel;
                document.getElementById("balance").textContent = balance;
            }

            document.querySelectorAll(".case-block").forEach(caseBlock => {
                caseBlock.addEventListener("click", function() {
                    const link = this.getAttribute("data-link");
                    if (link) {
                        window.location.href = link;
                    }
                });
            });
        });
    </script>
</head>
<body>
    <div class="notch">
        <h2 id="title">CS2 CASE</h2>
        <div class="balance-container">
            <p id="balance-label">Balance:</p>
            <p id="balance">0</p>
        </div>
        <select id="language-selector" class="language-selector">
            <option value="en">üá∫üá∏</option>
            <option value="ru">üá∑üá∫</option>
        </select>
    </div>
    <div class="container">
        <button id="back-button" class="exit-button" onclick="window.location.href='main.html'">‚Æå Exit to Menu</button>
        <div class="grid">
            <div class="case-block" data-link="case1.html">
                <img src="../image/case1.png" alt="Case 1" class="case-image">
                <div class="case-info">
                    <p id="best-case" class="best-case">–ö–µ–π—Å 1</p>
                    <p id="best-case-desc" class="case-desc">–õ—É—á—à–∏–π –∫–µ–π—Å!</p>
                </div>
            </div>
            <div class="small-cases">
                <div class="case-block" data-link="case2.html">
                    <img src="case2-image.jpg" alt="Case 2" class="case-image">
                    <div class="case-info">
                        <p id="case2" class="small-case">–ö–µ–π—Å 2</p>
                    </div>
                </div>
                <div class="case-block" data-link="case3.html">
                    <img src="case3-image.jpg" alt="Case 3" class="case-image">
                    <div class="case-info">
                        <p id="case3" class="small-case">–ö–µ–π—Å 3</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
